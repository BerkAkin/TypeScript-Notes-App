(()=>{"use strict";class t{constructor(t,e,s,n,o){this.id=t,this.content=e,this.date=s,this.title=n,this.checks=o}}class e{constructor(t,e){this.templateElement=document.getElementById(t),this.hostElement=document.getElementById(e);const s=document.importNode(this.templateElement.content,!0);this.element=s.firstElementChild}setElementData(t,e,n,o,i){this.element.querySelector("#content").textContent=e,this.element.querySelector("#header").textContent=t,this.element.querySelector("#date").textContent=n,this.element.querySelector("#deleteBtn").addEventListener("click",(()=>s.deleteNote(o))),0!==i.length&&(this.element.querySelector("#content").innerHTML+='<hr style="margin-top:15px">',console.log(i));for(let t in i)this.element.querySelector("#checklistInNote").innerHTML+=`\n        <input type="checkbox" id="${i[t]}" class="${i[t]}" />\n        <p style="display:inline;" for="${i[t]}">${i[t]}</p><br>`;this.attach()}attach(){this.hostElement.insertAdjacentElement("afterbegin",this.element)}}const s=new class{constructor(){this.notes=[],this.loadFromLocalStorage()}loadFromLocalStorage(){const t=localStorage.getItem("notes");t&&(this.notes=JSON.parse(t)),this.renderNotes()}saveToLocalStorage(){localStorage.setItem("notes",JSON.stringify(this.notes))}noteAdder(e,s,n,o,i){const l=new t(e,s,n,o,i);this.notes.push(l),this.saveToLocalStorage(),this.renderNotes()}deleteNote(t){const e=this.notes.filter((e=>e.id!==t));this.notes=e,this.saveToLocalStorage(),this.renderNotes()}renderNotes(){document.getElementById("note-container").innerHTML="";for(let t of this.notes)new e("single-note","note-container").setElementData(t.title,t.content,t.date,t.id,t.checks)}};class n{constructor(t,e){this.templateElement=document.getElementById(t),this.hostElement=document.getElementById(e);const s=document.importNode(this.templateElement.content,!0);this.element=s.firstElementChild,this.attach()}attach(){this.hostElement.insertAdjacentElement("afterbegin",this.element)}}new class extends n{constructor(){super("tmp-note-container-header","app"),this.checkList=[],this.configure()}configure(){this.showModalBtn=document.querySelector("#add-btn"),this.showModalBtn.addEventListener("click",(()=>this.showModal())),this.modal=document.querySelector("#modal"),this.modalForm=document.querySelector("#addNoteForm"),this.modalForm.addEventListener("submit",this.gatherInputs.bind(this)),this.noteTitleInput=document.getElementById("inputField"),this.noteContentInput=document.getElementById("inputFieldTxt"),this.modalCancelButton=document.querySelector("#modalCancelButton"),this.modalCancelButton.addEventListener("click",(()=>this.hideModal())),this.checklistModalInput=document.querySelector("#checkAdderModalInput"),this.checklistModal=document.querySelector("#checkListAdderModal"),this.checklistModalCancelBtn=document.querySelector("#checklistModalCancelButton"),this.checklistModalCancelBtn.addEventListener("click",(()=>{this.checklistModalInput.value="",this.hideCheckModal()})),this.checklistModalAddBtn=document.querySelector("#checklistModalAddButton"),this.checklistModalAddBtn.addEventListener("click",(()=>{this.gatherCheckModalInputs()})),this.checklistBtn=document.querySelector("#modalAddChecklistButton"),this.checklistBtn.addEventListener("click",(()=>{this.showCheckModal()})),this.checklistList=document.querySelector("#checkListField")}showModal(){this.modal.style.display="flex"}hideModal(){this.checklistList.innerHTML="",this.checkList=[],this.modal.style.display="none"}gatherInputs(t){t.preventDefault();const e=this.noteContentInput.value,s=this.noteTitleInput.value,n=this.checkList;this.addNewNote(e,s,n)}addNewNote(t,e,n){const o=(new Date).toISOString().slice(0,10).split("-").reverse().join("/");s.noteAdder(Math.random(),t,o,e,n),this.checkList=[],this.checklistList.innerHTML="",this.hideModal()}addNewCheckItem(t){const e=`<input type="checkbox" id="${t}" class="${t}" /><label for="${t}">${t}</label><br>`;this.checklistList.innerHTML+=e}showCheckModal(){this.checklistModal.style.display="flex"}hideCheckModal(){this.checklistModal.style.display="none",this.showModal()}gatherCheckModalInputs(){this.checkList.push(this.checklistModalInput.value),this.addNewCheckItem(this.checklistModalInput.value),this.hideCheckModal(),console.log(this.checkList)}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cy1hcHAvLi9zcmMvT2JqZWN0cy9Ob3RlLnRzIiwid2VicGFjazovL3R5cGVzY3JpcHQtbm90ZXMtYXBwLy4vc3JjL09iamVjdHMvTm90ZUl0ZW0udHMiLCJ3ZWJwYWNrOi8vdHlwZXNjcmlwdC1ub3Rlcy1hcHAvLi9zcmMvQ29tcG9uZW50cy9Ob3RlT3BlcmF0aW9ucy50cyIsIndlYnBhY2s6Ly90eXBlc2NyaXB0LW5vdGVzLWFwcC8uL3NyYy9Db21wb25lbnRzL0NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly90eXBlc2NyaXB0LW5vdGVzLWFwcC8uL3NyYy9PYmplY3RzL0hlYWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBpZDogbnVtYmVyLCBwdWJsaWMgY29udGVudDogc3RyaW5nLCBwdWJsaWMgZGF0ZTogc3RyaW5nLCBwdWJsaWMgdGl0bGU6IHN0cmluZywgcHVibGljIGNoZWNrczogc3RyaW5nW10pIHt9XHJcbiAgfVxyXG4gIFxyXG4gICIsImltcG9ydCB7IG5vdGVPcGVyYXRpb25zIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvTm90ZU9wZXJhdGlvbnNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVJdGVtIHtcclxuICB0ZW1wbGF0ZUVsZW1lbnQ6IEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgaG9zdEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xyXG4gIGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZUVsZW1lbnRJZDogc3RyaW5nLCBob3N0RWxlbWVudElkOiBzdHJpbmcpIHtcclxuICAgIHRoaXMudGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGVtcGxhdGVFbGVtZW50SWQpIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgICB0aGlzLmhvc3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaG9zdEVsZW1lbnRJZCkhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgY29uc3QgaW1wb3J0ZWROb2RlID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0aGlzLnRlbXBsYXRlRWxlbWVudC5jb250ZW50LCB0cnVlKTtcclxuICAgIHRoaXMuZWxlbWVudCA9IGltcG9ydGVkTm9kZS5maXJzdEVsZW1lbnRDaGlsZCBhcyBIVE1MRGl2RWxlbWVudDtcclxuICB9XHJcblxyXG4gIHNldEVsZW1lbnREYXRhKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZywgZGF0ZTogc3RyaW5nLCBpZDogbnVtYmVyLCBjaGVja3M6IHN0cmluZ1tdKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250ZW50XCIpIS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNoZWFkZXJcIikhLnRleHRDb250ZW50ID0gdGl0bGU7XHJcbiAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlXCIpIS50ZXh0Q29udGVudCA9IGRhdGU7XHJcbiAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGVCdG5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBub3RlT3BlcmF0aW9ucy5kZWxldGVOb3RlKGlkKSk7XHJcbiAgICBpZiAoY2hlY2tzLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250ZW50XCIpIS5pbm5lckhUTUwgKz0gYDxociBzdHlsZT1cIm1hcmdpbi10b3A6MTVweFwiPmA7XHJcbiAgICAgIGNvbnNvbGUubG9nKGNoZWNrcyk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBjaGNrIGluIGNoZWNrcykge1xyXG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVja2xpc3RJbk5vdGVcIikhLmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiJHtjaGVja3NbY2hja119XCIgY2xhc3M9XCIke2NoZWNrc1tjaGNrXX1cIiAvPlxyXG4gICAgICAgIDxwIHN0eWxlPVwiZGlzcGxheTppbmxpbmU7XCIgZm9yPVwiJHtjaGVja3NbY2hja119XCI+JHtjaGVja3NbY2hja119PC9wPjxicj5gO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYXR0YWNoKCk7XHJcbiAgfVxyXG5cclxuICBhdHRhY2goKSB7XHJcbiAgICB0aGlzLmhvc3RFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyYmVnaW5cIiwgdGhpcy5lbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IE5vdGUgZnJvbSBcIi4uL09iamVjdHMvTm90ZVwiO1xyXG5pbXBvcnQgTm90ZUl0ZW0gZnJvbSBcIi4uL09iamVjdHMvTm90ZUl0ZW1cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVPcGVyYXRpb25zIHtcclxuICBub3RlczogTm90ZVtdID0gW107XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmxvYWRGcm9tTG9jYWxTdG9yYWdlKCk7XHJcbiAgfVxyXG5cclxuICBsb2FkRnJvbUxvY2FsU3RvcmFnZSgpIHtcclxuICAgIGNvbnN0IHNhdmVkTm90ZXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm5vdGVzXCIpO1xyXG4gICAgaWYgKHNhdmVkTm90ZXMpIHtcclxuICAgICAgdGhpcy5ub3RlcyA9IEpTT04ucGFyc2Uoc2F2ZWROb3Rlcyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlbmRlck5vdGVzKCk7XHJcbiAgfVxyXG5cclxuICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm5vdGVzXCIsIEpTT04uc3RyaW5naWZ5KHRoaXMubm90ZXMpKTtcclxuICB9XHJcblxyXG4gIG5vdGVBZGRlcihpZDogbnVtYmVyLCBjb250ZW50OiBzdHJpbmcsIGRhdGU6IHN0cmluZywgdGl0bGU6IHN0cmluZywgY2hlY2tzOiBzdHJpbmdbXSkge1xyXG4gICAgY29uc3QgbmV3Tm90ZSA9IG5ldyBOb3RlKGlkLCBjb250ZW50LCBkYXRlLCB0aXRsZSwgY2hlY2tzKTtcclxuICAgIHRoaXMubm90ZXMucHVzaChuZXdOb3RlKTtcclxuICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICB0aGlzLnJlbmRlck5vdGVzKCk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVOb3RlKGlkOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGZpbHRlcmVkID0gdGhpcy5ub3Rlcy5maWx0ZXIoKG5vdGUpID0+IG5vdGUuaWQgIT09IGlkKTtcclxuICAgIHRoaXMubm90ZXMgPSBmaWx0ZXJlZDtcclxuICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICB0aGlzLnJlbmRlck5vdGVzKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJOb3RlcygpIHtcclxuICAgIGNvbnN0IGhvc3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3RlLWNvbnRhaW5lclwiKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICAgIGhvc3RFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgZm9yIChsZXQgb25lTm90ZSBvZiB0aGlzLm5vdGVzKSB7XHJcbiAgICAgIGxldCBuZXdOb3RlSXRlbSA9IG5ldyBOb3RlSXRlbShcInNpbmdsZS1ub3RlXCIsIFwibm90ZS1jb250YWluZXJcIik7XHJcbiAgICAgIG5ld05vdGVJdGVtLnNldEVsZW1lbnREYXRhKG9uZU5vdGUudGl0bGUsIG9uZU5vdGUuY29udGVudCwgb25lTm90ZS5kYXRlLCBvbmVOb3RlLmlkLCBvbmVOb3RlLmNoZWNrcyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgbm90ZU9wZXJhdGlvbnMgPSBuZXcgTm90ZU9wZXJhdGlvbnMoKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50PGhvc3RFbGUgZXh0ZW5kcyBIVE1MRWxlbWVudCwgRWxlIGV4dGVuZHMgSFRNTEVsZW1lbnQ+IHtcclxuICAgIHRlbXBsYXRlRWxlbWVudDogSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICAgIGhvc3RFbGVtZW50OiBob3N0RWxlO1xyXG4gICAgZWxlbWVudDogRWxlO1xyXG4gIFxyXG4gICAgY29uc3RydWN0b3IodGVtcGxhdGVFbGVtZW50SWQ6IHN0cmluZywgaG9zdEVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgIHRoaXMudGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGVtcGxhdGVFbGVtZW50SWQpIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgICAgIHRoaXMuaG9zdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChob3N0RWxlbWVudElkKSEgYXMgaG9zdEVsZTtcclxuICAgICAgY29uc3QgaW1wb3J0ZWROb2RlID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0aGlzLnRlbXBsYXRlRWxlbWVudC5jb250ZW50LCB0cnVlKTtcclxuICAgICAgdGhpcy5lbGVtZW50ID0gaW1wb3J0ZWROb2RlLmZpcnN0RWxlbWVudENoaWxkIGFzIEVsZTtcclxuICAgICAgdGhpcy5hdHRhY2goKTtcclxuICAgIH1cclxuICBcclxuICAgIHByb3RlY3RlZCBhdHRhY2goKSB7XHJcbiAgICAgIHRoaXMuaG9zdEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJiZWdpblwiLCB0aGlzLmVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuICAiLCJpbXBvcnQgeyBub3RlT3BlcmF0aW9ucyB9IGZyb20gXCIuLi9Db21wb25lbnRzL05vdGVPcGVyYXRpb25zXCI7XHJcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4uL0NvbXBvbmVudHMvQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWFkZXIgZXh0ZW5kcyBDb21wb25lbnQ8SFRNTERpdkVsZW1lbnQsIEhUTUxEaXZFbGVtZW50PiB7XHJcbiAgc2hvd01vZGFsQnRuOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICBtb2RhbDogSFRNTERpdkVsZW1lbnQ7XHJcbiAgbW9kYWxBZGROZXdOb3RlQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICBtb2RhbENhbmNlbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgbW9kYWxGb3JtOiBIVE1MRm9ybUVsZW1lbnQ7XHJcblxyXG4gIG5vdGVUaXRsZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIG5vdGVDb250ZW50SW5wdXQ6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XHJcblxyXG4gIGNoZWNrbGlzdEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgY2hlY2tsaXN0TGlzdDogSFRNTERpdkVsZW1lbnQ7XHJcbiAgY2hlY2tMaXN0OiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBjaGVja2xpc3RNb2RhbDogSFRNTERpdkVsZW1lbnQ7XHJcbiAgY2hlY2tsaXN0TW9kYWxBZGRCdG46IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gIGNoZWNrbGlzdE1vZGFsQ2FuY2VsQnRuOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICBjaGVja2xpc3RNb2RhbElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKFwidG1wLW5vdGUtY29udGFpbmVyLWhlYWRlclwiLCBcImFwcFwiKTtcclxuICAgIHRoaXMuY29uZmlndXJlKCk7XHJcbiAgfVxyXG5cclxuICBjb25maWd1cmUoKSB7XHJcbiAgICB0aGlzLnNob3dNb2RhbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWJ0blwiKSEgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICB0aGlzLnNob3dNb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5zaG93TW9kYWwoKSk7XHJcblxyXG4gICAgdGhpcy5tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxcIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cclxuICAgIHRoaXMubW9kYWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGROb3RlRm9ybVwiKSEgYXMgSFRNTEZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5tb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLmdhdGhlcklucHV0cy5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB0aGlzLm5vdGVUaXRsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dEZpZWxkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICB0aGlzLm5vdGVDb250ZW50SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0RmllbGRUeHRcIikhIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XHJcblxyXG4gICAgdGhpcy5tb2RhbENhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxDYW5jZWxCdXR0b25cIikhIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgdGhpcy5tb2RhbENhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5oaWRlTW9kYWwoKSk7XHJcblxyXG4gICAgdGhpcy5jaGVja2xpc3RNb2RhbElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVja0FkZGVyTW9kYWxJbnB1dFwiKSEgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICB0aGlzLmNoZWNrbGlzdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVja0xpc3RBZGRlck1vZGFsXCIpISBhcyBIVE1MRGl2RWxlbWVudDtcclxuICAgIHRoaXMuY2hlY2tsaXN0TW9kYWxDYW5jZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NoZWNrbGlzdE1vZGFsQ2FuY2VsQnV0dG9uXCIpISBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHRoaXMuY2hlY2tsaXN0TW9kYWxDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja2xpc3RNb2RhbElucHV0LnZhbHVlID0gXCJcIjtcclxuICAgICAgdGhpcy5oaWRlQ2hlY2tNb2RhbCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmNoZWNrbGlzdE1vZGFsQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVja2xpc3RNb2RhbEFkZEJ1dHRvblwiKSEgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICB0aGlzLmNoZWNrbGlzdE1vZGFsQWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZ2F0aGVyQ2hlY2tNb2RhbElucHV0cygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jaGVja2xpc3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsQWRkQ2hlY2tsaXN0QnV0dG9uXCIpISBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHRoaXMuY2hlY2tsaXN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2hvd0NoZWNrTW9kYWwoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY2hlY2tsaXN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hlY2tMaXN0RmllbGRcIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIH1cclxuICBzaG93TW9kYWwoKSB7XHJcbiAgICB0aGlzLm1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICB9XHJcbiAgaGlkZU1vZGFsKCkge1xyXG4gICAgdGhpcy5jaGVja2xpc3RMaXN0LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICB0aGlzLmNoZWNrTGlzdCA9IFtdO1xyXG4gICAgdGhpcy5tb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfVxyXG4gIGdhdGhlcklucHV0cyhlOiBFdmVudCkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgY29udGVudCA9IHRoaXMubm90ZUNvbnRlbnRJbnB1dC52YWx1ZTtcclxuICAgIGNvbnN0IHRpdGxlID0gdGhpcy5ub3RlVGl0bGVJbnB1dC52YWx1ZTtcclxuICAgIGNvbnN0IGNoZWNrcyA9IHRoaXMuY2hlY2tMaXN0O1xyXG4gICAgdGhpcy5hZGROZXdOb3RlKGNvbnRlbnQsIHRpdGxlLCBjaGVja3MpO1xyXG4gIH1cclxuICBhZGROZXdOb3RlKGNvbnRlbnQ6IHN0cmluZywgdGl0bGU6IHN0cmluZywgY2hlY2tzOiBzdHJpbmdbXSkge1xyXG4gICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkuc3BsaXQoXCItXCIpLnJldmVyc2UoKS5qb2luKFwiL1wiKTtcclxuICAgIG5vdGVPcGVyYXRpb25zLm5vdGVBZGRlcihNYXRoLnJhbmRvbSgpLCBjb250ZW50LCBuZXdEYXRlLCB0aXRsZSwgY2hlY2tzKTtcclxuICAgIHRoaXMuY2hlY2tMaXN0ID0gW107XHJcbiAgICB0aGlzLmNoZWNrbGlzdExpc3QuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIHRoaXMuaGlkZU1vZGFsKCk7XHJcbiAgfVxyXG4gIGFkZE5ld0NoZWNrSXRlbSh0ZXh0OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IG5ld0NoZWNrRWxlbWVudCA9IGA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke3RleHR9XCIgY2xhc3M9XCIke3RleHR9XCIgLz48bGFiZWwgZm9yPVwiJHt0ZXh0fVwiPiR7dGV4dH08L2xhYmVsPjxicj5gO1xyXG4gICAgdGhpcy5jaGVja2xpc3RMaXN0LmlubmVySFRNTCArPSBuZXdDaGVja0VsZW1lbnQ7XHJcbiAgfVxyXG4gIHNob3dDaGVja01vZGFsKCkge1xyXG4gICAgdGhpcy5jaGVja2xpc3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgfVxyXG4gIGhpZGVDaGVja01vZGFsKCkge1xyXG4gICAgdGhpcy5jaGVja2xpc3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLnNob3dNb2RhbCgpO1xyXG4gIH1cclxuICBnYXRoZXJDaGVja01vZGFsSW5wdXRzKCkge1xyXG4gICAgdGhpcy5jaGVja0xpc3QucHVzaCh0aGlzLmNoZWNrbGlzdE1vZGFsSW5wdXQudmFsdWUpO1xyXG4gICAgdGhpcy5hZGROZXdDaGVja0l0ZW0odGhpcy5jaGVja2xpc3RNb2RhbElucHV0LnZhbHVlKTtcclxuICAgIHRoaXMuaGlkZUNoZWNrTW9kYWwoKTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMuY2hlY2tMaXN0KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBoZWFkZXIgPSBuZXcgSGVhZGVyKCk7XHJcbiJdLCJuYW1lcyI6WyJOb3RlIiwiY29uc3RydWN0b3IiLCJpZCIsImNvbnRlbnQiLCJkYXRlIiwidGl0bGUiLCJjaGVja3MiLCJOb3RlSXRlbSIsInRlbXBsYXRlRWxlbWVudElkIiwiaG9zdEVsZW1lbnRJZCIsInRoaXMiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaG9zdEVsZW1lbnQiLCJpbXBvcnRlZE5vZGUiLCJpbXBvcnROb2RlIiwiZWxlbWVudCIsImZpcnN0RWxlbWVudENoaWxkIiwic2V0RWxlbWVudERhdGEiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGVsZXRlTm90ZSIsImxlbmd0aCIsImlubmVySFRNTCIsImNvbnNvbGUiLCJsb2ciLCJjaGNrIiwiYXR0YWNoIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwibm90ZXMiLCJsb2FkRnJvbUxvY2FsU3RvcmFnZSIsInNhdmVkTm90ZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwicmVuZGVyTm90ZXMiLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwic3RyaW5naWZ5Iiwibm90ZUFkZGVyIiwibmV3Tm90ZSIsInB1c2giLCJmaWx0ZXJlZCIsImZpbHRlciIsIm5vdGUiLCJvbmVOb3RlIiwiQ29tcG9uZW50Iiwic3VwZXIiLCJjaGVja0xpc3QiLCJjb25maWd1cmUiLCJzaG93TW9kYWxCdG4iLCJzaG93TW9kYWwiLCJtb2RhbCIsIm1vZGFsRm9ybSIsImdhdGhlcklucHV0cyIsImJpbmQiLCJub3RlVGl0bGVJbnB1dCIsIm5vdGVDb250ZW50SW5wdXQiLCJtb2RhbENhbmNlbEJ1dHRvbiIsImhpZGVNb2RhbCIsImNoZWNrbGlzdE1vZGFsSW5wdXQiLCJjaGVja2xpc3RNb2RhbCIsImNoZWNrbGlzdE1vZGFsQ2FuY2VsQnRuIiwidmFsdWUiLCJoaWRlQ2hlY2tNb2RhbCIsImNoZWNrbGlzdE1vZGFsQWRkQnRuIiwiZ2F0aGVyQ2hlY2tNb2RhbElucHV0cyIsImNoZWNrbGlzdEJ0biIsInNob3dDaGVja01vZGFsIiwiY2hlY2tsaXN0TGlzdCIsInN0eWxlIiwiZGlzcGxheSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFkZE5ld05vdGUiLCJuZXdEYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic2xpY2UiLCJzcGxpdCIsInJldmVyc2UiLCJqb2luIiwiTWF0aCIsInJhbmRvbSIsImFkZE5ld0NoZWNrSXRlbSIsInRleHQiLCJuZXdDaGVja0VsZW1lbnQiXSwic291cmNlUm9vdCI6IiJ9